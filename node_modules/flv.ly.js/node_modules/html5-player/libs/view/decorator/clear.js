'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
function clearDecorator(modelNamespaceArr) {
  return function (component) {
    component.prototype.temp_componentWillUnmount = component.prototype.componentWillUnmount;
    component.prototype.componentWillUnmount = function () {
      var _this = this;

      if (!this.props.dispatch) {
        console.error(new Error('props缺少redux的dispatch'));
        return;
      }
      this.temp_componentWillUnmount && this.temp_componentWillUnmount();
      modelNamespaceArr.forEach(function (v) {
        _this.props.dispatch({
          type: v + '/clear',
          payload: {}
        });
      });
    };
    return component;
  };
}
exports.default = clearDecorator;