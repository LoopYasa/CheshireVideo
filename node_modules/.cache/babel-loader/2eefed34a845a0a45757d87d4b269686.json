{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MaGent\\\\Desktop\\\\video\\\\video\\\\src\\\\page\\\\Souman\\\\Reader\\\\index.jsx\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { NavLink, BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Drawer, Button } from 'antd';\nimport AnimatedRouter from 'react-animated-router';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { message } from 'antd';\nimport './index.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class magent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      day: \"\",\n      hour: \"\",\n      second: \"\",\n      sign: \"\",\n      count: \"\",\n      mid: \"\",\n      page: \"\",\n      pageSign: \"\",\n      curl: \"\",\n      pageNumber: 2,\n      visible: false\n    };\n\n    this.nextpage = event => {\n      const _this = this;\n\n      const {\n        curl,\n        mid,\n        day,\n        hour,\n        second,\n        sign,\n        pageNumber\n      } = this.state;\n      console.log(pageNumber);\n      axios.get('http://localhost:3001/api/getNumberpage', {\n        params: {\n          curl,\n          mid,\n          day,\n          hour,\n          second,\n          sign,\n          pageNumber\n        }\n      }).then(function (response) {\n        _this.setState({\n          page: response.data\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n\n      _this.setState({\n        pageNumber: pageNumber + 1\n      });\n\n      let Node = document.getElementById(\"content\");\n      Node.scrollTop = 0;\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    const _this = this;\n\n    let curl = this.props.location.search.slice(-6);\n    axios.get('http://localhost:3001/api/firstinfo', {\n      params: {\n        curl\n      }\n    }).then(function (response) {\n      let day = response.data.day;\n      let hour = response.data.hour;\n      let second = response.data.second;\n      let sign = response.data.result;\n      let count = response.data.count;\n      let mid = response.data.mid;\n\n      _this.setState({\n        day: response.data.day,\n        hour: response.data.hour,\n        second: response.data.second,\n        sign: response.data.result,\n        count: response.data.count,\n        mid: response.data.mid,\n        curl: curl.slice(-5)\n      });\n\n      axios.get('http://localhost:3001/api/getpage', {\n        params: {\n          curl,\n          mid,\n          day,\n          hour,\n          second,\n          sign\n        }\n      }).then(function (response) {\n        let page = response.data.page;\n        let pageSign = response.data.pageSign;\n\n        _this.setState({\n          page,\n          pageSign\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const {\n      mid,\n      curl,\n      page,\n      pageSign\n    } = this.state;\n    const style = {\n      position: \"relative\",\n      height: \"100%\",\n      width: \"500px\",\n      padding: \"48px\",\n      overflow: \"hidden\",\n      background: \"#fafafa\",\n      border: \"1px solid #ebedf0\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reader\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"site-drawer-render-in-current-wrapper\",\n        style: style,\n        children: [\"Render in this\", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: this.showDrawer,\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n          placement: \"left\",\n          closable: false,\n          onClose: this.onClose,\n          visible: this.state.visible,\n          getContainer: false,\n          style: {\n            position: 'absolute'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Some contents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        id: \"content\",\n        onClick: () => this.nextpage(),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://image.mangabz.com/1/${mid}/${curl}/${page}.jpg?cid=${curl}&key=${pageSign}=`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/src/page/Souman/Reader/index.jsx"],"names":["axios","React","Component","NavLink","BrowserRouter","Router","Route","Drawer","Button","AnimatedRouter","CopyToClipboard","message","magent","state","day","hour","second","sign","count","mid","page","pageSign","curl","pageNumber","visible","nextpage","event","_this","console","log","get","params","then","response","setState","data","catch","err","Node","document","getElementById","scrollTop","showDrawer","onClose","componentDidMount","props","location","search","slice","result","render","style","position","height","width","padding","overflow","background","border","marginTop"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport { NavLink, BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport { Drawer, Button } from 'antd'\r\nimport AnimatedRouter from 'react-animated-router'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { message } from 'antd'\r\n\r\nimport './index.scss'\r\n\r\nexport default class magent extends Component {\r\n\r\n    state = {\r\n        day : \"\",\r\n        hour : \"\",\r\n        second : \"\",\r\n        sign : \"\",\r\n        count : \"\",\r\n        mid : \"\",\r\n        page: \"\",\r\n        pageSign: \"\",\r\n        curl: \"\",\r\n        pageNumber: 2,\r\n        visible: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const _this = this\r\n        let curl = this.props.location.search.slice(-6)\r\n        axios.get('http://localhost:3001/api/firstinfo', {\r\n            params: {\r\n                curl\r\n            }\r\n        })\r\n        .then( function(response) {\r\n                let day = response.data.day\r\n                let hour = response.data.hour\r\n                let second = response.data.second\r\n                let sign = response.data.result\r\n                let count = response.data.count\r\n                let mid = response.data.mid\r\n            _this.setState({\r\n                day: response.data.day,\r\n                hour: response.data.hour,\r\n                second: response.data.second,\r\n                sign: response.data.result,\r\n                count: response.data.count,\r\n                mid: response.data.mid,\r\n                curl: curl.slice(-5)\r\n            })\r\n            axios.get('http://localhost:3001/api/getpage',{\r\n                params: {\r\n                    curl,\r\n                    mid,\r\n                    day,\r\n                    hour,\r\n                    second,\r\n                    sign,\r\n                }\r\n            })\r\n            .then( function(response) {\r\n                let page = response.data.page\r\n                let pageSign = response.data.pageSign\r\n                _this.setState({\r\n                    page,\r\n                    pageSign\r\n                })\r\n            })\r\n            .catch( function(err) {\r\n                console.log(err)\r\n            })\r\n        })\r\n        .catch( function(err) {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    nextpage = (event) => {\r\n        const _this = this\r\n        const { curl, mid, day, hour, second, sign, pageNumber } = this.state\r\n        console.log(pageNumber)\r\n        axios.get('http://localhost:3001/api/getNumberpage', {\r\n            params: {\r\n                curl,\r\n                mid,\r\n                day,\r\n                hour,\r\n                second,\r\n                sign,\r\n                pageNumber\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            _this.setState({\r\n                page: response.data\r\n            })\r\n        })\r\n        .catch(function(err) {\r\n            console.log(err)\r\n        })\r\n        _this.setState({\r\n            pageNumber: pageNumber + 1\r\n        })\r\n        let Node = document.getElementById(\"content\")\r\n        Node.scrollTop = 0\r\n    }\r\n\r\n\r\n    showDrawer = () => {\r\n        this.setState({\r\n          visible: true,\r\n        })\r\n    }\r\n\r\n    onClose = () => {\r\n        this.setState({\r\n          visible: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { mid, curl, page, pageSign } = this.state\r\n\r\n        const style = {\r\n            position: \"relative\",\r\n            height: \"100%\",\r\n            width: \"500px\",\r\n            padding: \"48px\",\r\n            overflow: \"hidden\",\r\n            background: \"#fafafa\",\r\n            border: \"1px solid #ebedf0\",\r\n        }\r\n\r\n        return (\r\n            <div className=\"reader\">\r\n\r\n                <div className=\"site-drawer-render-in-current-wrapper\" style={ style }>\r\n                        Render in this\r\n                        <div style={{ marginTop: 16 }}>\r\n                        <Button type=\"primary\" onClick={this.showDrawer}>\r\n                            Open\r\n                        </Button>\r\n                        </div>\r\n                        <Drawer\r\n                        placement=\"left\"\r\n                        closable={false}\r\n                        onClose={this.onClose}\r\n                        visible={this.state.visible}\r\n                        getContainer={false}\r\n                        style={{ position: 'absolute' }}\r\n                        >\r\n                        <p>Some contents...</p>\r\n                        </Drawer>\r\n                    </div>\r\n\r\n                <div className=\"content\" id=\"content\" onClick={ () => this.nextpage() }>\r\n                    <img src={ `http://image.mangabz.com/1/${mid}/${curl}/${page}.jpg?cid=${curl}&key=${pageSign}=` } alt=\"\" />\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}