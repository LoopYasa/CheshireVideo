{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty = require('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function (payload, sagas) {\n  return new OutsideApi(payload, sagas);\n};\n\nvar _index = require('./index');\n\nvar _selection = require('../selection');\n\nvar _history = require('../history');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} //忽略的saga名，不忽略的saga名注意不要跟下面的properties重复\n\n\nvar outSideSagas = ['play', 'pause', 'volume', 'muted', 'replay', 'seeking', 'fullscreen', 'controlbar', 'errorMessage', 'playbackRate'];\nvar oustSidePropertyList = ['playing', 'ended', 'loading', 'bufferTime', 'seekingState', 'currentTime', 'duration', 'isError'];\n\nvar OutsideApi = function () {\n  // eslint-disable-next-line\n  function OutsideApi(payload, sagas) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, OutsideApi);\n    this.api = payload.api;\n    this.dispatch = payload.dispatch;\n    this.config = payload.config;\n    this.autoplay = payload.config.autoplay;\n    this.sagas = sagas;\n    var api = payload.api; //begin--对外提供的借口\n\n    var outSideApi = {\n      on: api.on.bind(api),\n      off: api.off.bind(api),\n      setCurrentTime: function setCurrentTime(currentTime) {\n        _this.api.currentTime = currentTime;\n      }\n    };\n    this.getSagaFunction(outSideApi);\n    this.getProperty(outSideApi);\n    payload.videoCallback && payload.videoCallback(outSideApi);\n    return outSideApi;\n  }\n\n  (0, _createClass3.default)(OutsideApi, [{\n    key: 'getSagaFunction',\n    value: function getSagaFunction(outSideApi) {\n      var _this2 = this;\n\n      var dispatch = this.dispatch;\n\n      var _loop = function _loop(k) {\n        var sagaName = k.replace(_index.namespace + '/', '');\n\n        if (!!~outSideSagas.indexOf(sagaName)) {\n          var funcName = void 0;\n\n          switch (sagaName) {\n            case 'volume':\n              funcName = 'setVolume';\n              break;\n\n            case 'muted':\n              funcName = 'setMuted';\n              break;\n\n            case 'seeking':\n              funcName = 'setSeeking';\n              break;\n\n            case 'errorMessage':\n              funcName = 'showErrorMessage';\n              break;\n\n            case 'playbackRate':\n              funcName = 'setPlaybackRate';\n              break;\n\n            default:\n              funcName = sagaName;\n          } // eslint-disable-next-line\n\n\n          outSideApi[funcName] = function () {\n            var action = {\n              type: k\n            };\n\n            switch (sagaName) {\n              case 'seeking':\n                if (_this2.config.isHistory) {\n                  action = {\n                    type: _history.namespace + '/setSliderPercent',\n                    payload: {\n                      percent: arguments.length <= 0 ? undefined : arguments[0]\n                    }\n                  };\n\n                  dispatch = function dispatch() {\n                    _this2.dispatch({\n                      type: _index.namespace + '/seekingState',\n                      payload: true\n                    });\n\n                    _this2.dispatch.apply(_this2, arguments);\n\n                    _this2.dispatch({\n                      type: _index.namespace + '/seekingState',\n                      payload: false\n                    });\n                  };\n                } else {\n                  action.payload = {\n                    percent: arguments.length <= 0 ? undefined : arguments[0],\n                    pause: true\n                  };\n                }\n\n                break;\n\n              case 'controlbar':\n                action.payload = arguments.length <= 0 ? undefined : arguments[0];\n                action.delayTime = arguments.length <= 1 ? undefined : arguments[1];\n                action.onControlbarEnter = arguments.length <= 2 ? undefined : arguments[2];\n                break;\n\n              case 'errorMessage':\n                action.payload = {\n                  message: arguments.length <= 0 ? undefined : arguments[0]\n                };\n                break;\n\n              default:\n                if (arguments.length <= 0 ? undefined : arguments[0]) {\n                  action.payload = arguments.length <= 0 ? undefined : arguments[0];\n                }\n\n            }\n\n            dispatch(action);\n          };\n        }\n      };\n\n      for (var k in this.sagas) {\n        _loop(k);\n      }\n\n      outSideApi['setSelection'] = function (payload) {\n        var action = {\n          type: _selection.namespace + '/dataReducer',\n          payload: payload\n        };\n        dispatch(action); //对外提供selection事件\n\n        _this2.api.trigger('selection', action.payload);\n      };\n    }\n  }, {\n    key: 'getProperty',\n    value: function getProperty(outSideApi) {\n      var _this3 = this;\n\n      oustSidePropertyList.forEach(function (v) {\n        var key = v;\n\n        if (v === 'seekingState') {\n          key = 'seeking';\n        }\n\n        (0, _defineProperty2.default)(outSideApi, key, {\n          get: function get() {\n            if (key === 'duration' && _this3.config.historyDuration) {\n              return _this3.config.historyDuration;\n            }\n\n            if (key === 'currentTime') {\n              return _this3.api.historyCurrentTime;\n            }\n\n            return _this3.api[v];\n          },\n          set: function set() {\n            throw new Error(v + ' is read only!');\n          },\n          enumerable: true\n        });\n      });\n    }\n  }]);\n  return OutsideApi;\n}();","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/node_modules/html5-player/libs/model/video/outside-api.js"],"names":["Object","defineProperty","exports","value","_defineProperty","require","_defineProperty2","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","default","payload","sagas","OutsideApi","_index","_selection","_history","obj","__esModule","outSideSagas","oustSidePropertyList","_this","api","dispatch","config","autoplay","outSideApi","on","bind","off","setCurrentTime","currentTime","getSagaFunction","getProperty","videoCallback","key","_this2","_loop","k","sagaName","replace","namespace","indexOf","funcName","action","type","isHistory","percent","arguments","length","undefined","apply","pause","delayTime","onControlbarEnter","message","trigger","_this3","forEach","v","get","historyDuration","historyCurrentTime","set","Error","enumerable"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty = require('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function (payload, sagas) {\n  return new OutsideApi(payload, sagas);\n};\n\nvar _index = require('./index');\n\nvar _selection = require('../selection');\n\nvar _history = require('../history');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//忽略的saga名，不忽略的saga名注意不要跟下面的properties重复\nvar outSideSagas = ['play', 'pause', 'volume', 'muted', 'replay', 'seeking', 'fullscreen', 'controlbar', 'errorMessage', 'playbackRate'];\n\nvar oustSidePropertyList = ['playing', 'ended', 'loading', 'bufferTime', 'seekingState', 'currentTime', 'duration', 'isError'];\n\nvar OutsideApi = function () {\n  // eslint-disable-next-line\n  function OutsideApi(payload, sagas) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, OutsideApi);\n\n    this.api = payload.api;\n    this.dispatch = payload.dispatch;\n    this.config = payload.config;\n    this.autoplay = payload.config.autoplay;\n    this.sagas = sagas;\n    var api = payload.api;\n    //begin--对外提供的借口\n    var outSideApi = {\n      on: api.on.bind(api),\n      off: api.off.bind(api),\n      setCurrentTime: function setCurrentTime(currentTime) {\n        _this.api.currentTime = currentTime;\n      }\n    };\n    this.getSagaFunction(outSideApi);\n    this.getProperty(outSideApi);\n    payload.videoCallback && payload.videoCallback(outSideApi);\n    return outSideApi;\n  }\n\n  (0, _createClass3.default)(OutsideApi, [{\n    key: 'getSagaFunction',\n    value: function getSagaFunction(outSideApi) {\n      var _this2 = this;\n\n      var dispatch = this.dispatch;\n\n      var _loop = function _loop(k) {\n        var sagaName = k.replace(_index.namespace + '/', '');\n        if (!!~outSideSagas.indexOf(sagaName)) {\n          var funcName = void 0;\n          switch (sagaName) {\n            case 'volume':\n              funcName = 'setVolume';\n              break;\n            case 'muted':\n              funcName = 'setMuted';\n              break;\n            case 'seeking':\n              funcName = 'setSeeking';\n              break;\n            case 'errorMessage':\n              funcName = 'showErrorMessage';\n              break;\n            case 'playbackRate':\n              funcName = 'setPlaybackRate';\n              break;\n            default:\n              funcName = sagaName;\n          }\n          // eslint-disable-next-line\n          outSideApi[funcName] = function () {\n            var action = {\n              type: k\n            };\n            switch (sagaName) {\n              case 'seeking':\n                if (_this2.config.isHistory) {\n                  action = {\n                    type: _history.namespace + '/setSliderPercent',\n                    payload: {\n                      percent: arguments.length <= 0 ? undefined : arguments[0]\n                    }\n                  };\n                  dispatch = function dispatch() {\n                    _this2.dispatch({\n                      type: _index.namespace + '/seekingState',\n                      payload: true\n                    });\n                    _this2.dispatch.apply(_this2, arguments);\n                    _this2.dispatch({\n                      type: _index.namespace + '/seekingState',\n                      payload: false\n                    });\n                  };\n                } else {\n                  action.payload = { percent: arguments.length <= 0 ? undefined : arguments[0], pause: true };\n                }\n                break;\n              case 'controlbar':\n                action.payload = arguments.length <= 0 ? undefined : arguments[0];\n                action.delayTime = arguments.length <= 1 ? undefined : arguments[1];\n                action.onControlbarEnter = arguments.length <= 2 ? undefined : arguments[2];\n                break;\n              case 'errorMessage':\n                action.payload = { message: arguments.length <= 0 ? undefined : arguments[0] };\n                break;\n              default:\n                if (arguments.length <= 0 ? undefined : arguments[0]) {\n                  action.payload = arguments.length <= 0 ? undefined : arguments[0];\n                }\n            }\n            dispatch(action);\n          };\n        }\n      };\n\n      for (var k in this.sagas) {\n        _loop(k);\n      }\n      outSideApi['setSelection'] = function (payload) {\n        var action = {\n          type: _selection.namespace + '/dataReducer',\n          payload: payload\n        };\n        dispatch(action);\n        //对外提供selection事件\n        _this2.api.trigger('selection', action.payload);\n      };\n    }\n  }, {\n    key: 'getProperty',\n    value: function getProperty(outSideApi) {\n      var _this3 = this;\n\n      oustSidePropertyList.forEach(function (v) {\n        var key = v;\n        if (v === 'seekingState') {\n          key = 'seeking';\n        }\n        (0, _defineProperty2.default)(outSideApi, key, {\n          get: function get() {\n            if (key === 'duration' && _this3.config.historyDuration) {\n              return _this3.config.historyDuration;\n            }\n            if (key === 'currentTime') {\n              return _this3.api.historyCurrentTime;\n            }\n            return _this3.api[v];\n          },\n          set: function set() {\n            throw new Error(v + ' is read only!');\n          },\n          enumerable: true\n        });\n      });\n    }\n  }]);\n  return OutsideApi;\n}();"]},"metadata":{},"sourceType":"script"}