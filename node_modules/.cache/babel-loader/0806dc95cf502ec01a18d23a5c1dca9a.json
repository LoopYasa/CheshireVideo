{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2; //外部依赖包\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _isNumber = require('lodash/isNumber');\n\nvar _isNumber2 = _interopRequireDefault(_isNumber);\n\nvar _addEventListener = require('../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _contains = require('../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _util = require('../../utils/util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Tooltip = (_temp2 = _class = function (_React$Component) {\n  (0, _inherits3.default)(Tooltip, _React$Component);\n\n  function Tooltip() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Tooltip);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Tooltip.__proto__ || (0, _getPrototypeOf2.default)(Tooltip)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'Tooltip', _this.state = {\n      show: false\n    }, _this.dispatch = _this.props.dispatch, _this.eventLists = [], _this.onMouseMove = function (e) {\n      var childProps = _this.getChildProps();\n\n      childProps.onMouseMove && childProps.onMouseMove(e);\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          propPercent = _this$props.percent,\n          defaultPercent = _this$props.defaultPercent;\n\n      if ((0, _isNumber2.default)(propPercent) || (0, _isNumber2.default)(defaultPercent)) {\n        var position = _this.getMousePosition(e);\n\n        var pixelOffset = _this.calcValueByPos(position);\n\n        var length = _this.getTargetLength();\n\n        var percent = pixelOffset / length;\n        _this.percent = percent;\n        onChange && onChange(percent);\n\n        if (!(0, _isNumber2.default)(propPercent)) {\n          //否则触发当前组件更新\n          _this.setState({\n            random: Math.random()\n          });\n        }\n      }\n    }, _this.onClick = function (e) {\n      var _this$props$trigger = _this.props.trigger,\n          trigger = _this$props$trigger === undefined ? 'hover' : _this$props$trigger;\n\n      var childProps = _this.getChildProps();\n\n      childProps.onClick && childProps.onClick(e);\n      var show = _this.state.show;\n\n      if (trigger !== 'click') {\n        return;\n      }\n\n      if (!show) {\n        _this.documentClickEvent = (0, _addEventListener2.default)(_this.moveTargetDOM.ownerDocument, 'mousedown', function (e) {\n          if (!(0, _contains2.default)(_this.moveTargetDOM, e.target)) {\n            _this.setState({\n              show: false\n            });\n\n            _this.documentClickEvent.remove();\n          }\n        });\n      }\n\n      _this.setState({\n        show: !show\n      });\n    }, _this.onMouseOver = function (e) {\n      var childProps = _this.getChildProps();\n\n      childProps.onMouseOver && childProps.onMouseOver(e);\n      var _this$props$trigger2 = _this.props.trigger,\n          trigger = _this$props$trigger2 === undefined ? 'hover' : _this$props$trigger2;\n\n      if (trigger !== 'hover') {\n        return;\n      } //因为react原生的onMouseEnter有bug，所以自己处理\n\n\n      var parent = e.relatedTarget; //上一响应mouseover/mouseout事件的元素\n\n      while (parent !== e.currentTarget && parent) {\n        //假如存在这个元素并且这个元素不等于目标元素（被赋予mouseenter事件的元素）\n        try {\n          parent = parent.parentNode || parent.parentElement;\n        } catch (e) {\n          //上一响应的元素开始往上寻找目标元素\n          break;\n        }\n      }\n\n      if (parent !== e.currentTarget) {\n        _this.setState({\n          show: true\n        });\n      }\n    }, _this.onMouseLeave = function (e) {\n      var childProps = _this.getChildProps();\n\n      childProps.onMouseLeave && childProps.onMouseLeave(e);\n      var _this$props$trigger3 = _this.props.trigger,\n          trigger = _this$props$trigger3 === undefined ? 'hover' : _this$props$trigger3;\n\n      if (trigger !== 'hover') {\n        return;\n      }\n\n      _this.setState({\n        show: false\n      });\n    }, _this.percent = (0, _isNumber2.default)(_this.props.defaultPercent) ? _this.props.defaultPercent : null, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Tooltip, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.moveTargetDOM = _reactDom2.default.findDOMNode(this.refs.moveTarget); //在高德地图中，react jsx绑定事件失效，这种绑定方式没问题。\n\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mousemove', this.onMouseMove));\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mouseover', this.onMouseOver));\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mouseleave', this.onMouseLeave));\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ((0, _isNumber2.default)(nextProps.percent)) {\n        this.percent = nextProps.percent;\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.documentClickEvent && this.documentClickEvent.remove();\n      this.eventLists.forEach(function (v) {\n        v.remove();\n      });\n    }\n  }, {\n    key: 'getTargetHeight',\n    value: function getTargetHeight() {\n      var moveTargetDOM = this.moveTargetDOM;\n\n      if (!moveTargetDOM) {\n        return 0;\n      }\n\n      return moveTargetDOM.clientHeight;\n    }\n  }, {\n    key: 'getTargetLength',\n    value: function getTargetLength() {\n      var moveTargetDOM = this.moveTargetDOM;\n\n      if (!moveTargetDOM) {\n        return 0;\n      }\n\n      return moveTargetDOM.clientWidth;\n    }\n  }, {\n    key: 'getTargetStart',\n    value: function getTargetStart() {\n      var moveTargetDOM = this.moveTargetDOM;\n      var rect = moveTargetDOM.getBoundingClientRect();\n\n      if (moveTargetDOM.offsetLeft > rect.left) {\n        //浏览器宽度不足，向左滚动，rect.left会是负数\n        return moveTargetDOM.offsetLeft;\n      }\n\n      return rect.left;\n    }\n  }, {\n    key: 'calcValueByPos',\n    value: function calcValueByPos(position) {\n      var pixelOffset = position - this.getTargetStart();\n      return pixelOffset;\n    }\n  }, {\n    key: 'getMousePosition',\n    value: function getMousePosition(e) {\n      return e.pageX;\n    }\n  }, {\n    key: 'getContainerStyle',\n    value: function getContainerStyle() {\n      var _props$toTargetGap = this.props.toTargetGap,\n          toTargetGap = _props$toTargetGap === undefined ? 0 : _props$toTargetGap;\n\n      if (!this.refs['tooltip-container']) {\n        return {};\n      }\n\n      var contentWidth = this.refs['tooltip-container'].clientWidth; //const contentHeight = this.refs['tooltip-container'].clientHeight;\n\n      var targetWidth = this.getTargetLength();\n      var targetHeight = this.getTargetHeight();\n      var contentContainerStyle = {}; //const playerConainerRect = this.context.playerConainerDOM.getBoundingClientRect();\n      //const playerConainerWidth = playerConainerRect.width;\n\n      if ((0, _isNumber2.default)(this.percent) && targetWidth) {\n        var pixelOffset = this.percent * targetWidth;\n\n        if (pixelOffset + contentWidth / 2 > targetWidth) {\n          //位置不能超过tooltip的目标元素长度\n          contentContainerStyle.left = (targetWidth - contentWidth / 2) / targetWidth * 100 + '%';\n        } else if (pixelOffset <= contentWidth / 2) {\n          //位置不能小于tooltip的目标元素长度\n          contentContainerStyle.left = contentWidth / 2 / targetWidth * 100 + '%';\n        } else {\n          contentContainerStyle.left = this.percent * 100 + '%';\n        }\n\n        contentContainerStyle.transform = 'translate(-50%, 0%)';\n      } else {\n        contentContainerStyle.left = targetWidth / 2 + 'px';\n        contentContainerStyle.transform = 'translate(-50%, 0%)';\n      }\n\n      contentContainerStyle.paddingBottom = toTargetGap + 'px';\n      contentContainerStyle.bottom = targetHeight + 'px';\n      return contentContainerStyle;\n    }\n  }, {\n    key: 'renderTooltipContent',\n    value: function renderTooltipContent() {\n      var _props = this.props,\n          content = _props.content,\n          propsShow = _props.show,\n          className = _props.className;\n      var show = this.state.show;\n\n      if (propsShow) {\n        show = propsShow;\n      }\n\n      var contentContainerStyle = this.getContainerStyle();\n\n      var tooltipContainer = _react2.default.createElement('div', {\n        key: 'content',\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        },\n        ref: 'tooltip-container',\n        className: (0, _classnames2.default)('html5-player-tooltip-content-container', {\n          'html5-player-hide': !show,\n          'html5-player-show': show\n        }, className),\n        style: contentContainerStyle\n      }, content);\n\n      return tooltipContainer;\n    }\n  }, {\n    key: 'getChildProps',\n    value: function getChildProps() {\n      var children = this.props.children; //preact;\n\n      var childProps = (children[0] || children).attributes;\n\n      if (!childProps) {\n        childProps = (children[0] || children).props;\n      }\n\n      return childProps;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      return (0, _util.cloneElement)(children, {\n        onClick: this.onClick,\n        style: {\n          position: 'relative'\n        },\n        ref: 'moveTarget'\n      }, this.renderTooltipContent());\n    }\n  }]);\n  return Tooltip;\n}(_react2.default.Component), _class.propTypes = {\n  content: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.bool, _propTypes2.default.number, _propTypes2.default.element]),\n  //是否一直显示。\n  show: _propTypes2.default.bool,\n  //离目标的上下距离\n  toTargetGap: _propTypes2.default.number,\n  percent: _propTypes2.default.number,\n  defaultPercent: _propTypes2.default.number,\n  //触发行为，可选 hover/focus/click，默认hover\n  trigger: _propTypes2.default.string\n}, _temp2);\nexports.default = Tooltip;","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/node_modules/html5-player/libs/view/components/tooltip.js"],"names":["Object","defineProperty","exports","value","default","undefined","_getPrototypeOf","require","_getPrototypeOf2","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_class","_temp2","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","_classnames","_classnames2","_isNumber","_isNumber2","_addEventListener","_addEventListener2","_contains","_contains2","_util","obj","__esModule","Tooltip","_React$Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","displayName","state","show","dispatch","props","eventLists","onMouseMove","e","childProps","getChildProps","_this$props","onChange","propPercent","percent","defaultPercent","position","getMousePosition","pixelOffset","calcValueByPos","getTargetLength","setState","random","Math","onClick","_this$props$trigger","trigger","documentClickEvent","moveTargetDOM","ownerDocument","target","remove","onMouseOver","_this$props$trigger2","parent","relatedTarget","currentTarget","parentNode","parentElement","onMouseLeave","_this$props$trigger3","key","componentDidMount","findDOMNode","refs","moveTarget","push","componentWillReceiveProps","nextProps","componentWillUnmount","forEach","v","getTargetHeight","clientHeight","clientWidth","getTargetStart","rect","getBoundingClientRect","offsetLeft","left","pageX","getContainerStyle","_props$toTargetGap","toTargetGap","contentWidth","targetWidth","targetHeight","contentContainerStyle","transform","paddingBottom","bottom","renderTooltipContent","_props","content","propsShow","className","tooltipContainer","createElement","stopPropagation","ref","style","children","attributes","render","cloneElement","Component","propTypes","oneOfType","string","bool","number","element"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2; //外部依赖包\n\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _isNumber = require('lodash/isNumber');\n\nvar _isNumber2 = _interopRequireDefault(_isNumber);\n\nvar _addEventListener = require('../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _contains = require('../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _util = require('../../utils/util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Tooltip = (_temp2 = _class = function (_React$Component) {\n  (0, _inherits3.default)(Tooltip, _React$Component);\n\n  function Tooltip() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Tooltip);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Tooltip.__proto__ || (0, _getPrototypeOf2.default)(Tooltip)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'Tooltip', _this.state = {\n      show: false\n    }, _this.dispatch = _this.props.dispatch, _this.eventLists = [], _this.onMouseMove = function (e) {\n      var childProps = _this.getChildProps();\n      childProps.onMouseMove && childProps.onMouseMove(e);\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          propPercent = _this$props.percent,\n          defaultPercent = _this$props.defaultPercent;\n\n      if ((0, _isNumber2.default)(propPercent) || (0, _isNumber2.default)(defaultPercent)) {\n        var position = _this.getMousePosition(e);\n        var pixelOffset = _this.calcValueByPos(position);\n        var length = _this.getTargetLength();\n        var percent = pixelOffset / length;\n        _this.percent = percent;\n        onChange && onChange(percent);\n        if (!(0, _isNumber2.default)(propPercent)) {\n          //否则触发当前组件更新\n          _this.setState({ random: Math.random() });\n        }\n      }\n    }, _this.onClick = function (e) {\n      var _this$props$trigger = _this.props.trigger,\n          trigger = _this$props$trigger === undefined ? 'hover' : _this$props$trigger;\n\n      var childProps = _this.getChildProps();\n      childProps.onClick && childProps.onClick(e);\n      var show = _this.state.show;\n\n      if (trigger !== 'click') {\n        return;\n      }\n      if (!show) {\n        _this.documentClickEvent = (0, _addEventListener2.default)(_this.moveTargetDOM.ownerDocument, 'mousedown', function (e) {\n          if (!(0, _contains2.default)(_this.moveTargetDOM, e.target)) {\n            _this.setState({\n              show: false\n            });\n            _this.documentClickEvent.remove();\n          }\n        });\n      }\n      _this.setState({\n        show: !show\n      });\n    }, _this.onMouseOver = function (e) {\n      var childProps = _this.getChildProps();\n      childProps.onMouseOver && childProps.onMouseOver(e);\n      var _this$props$trigger2 = _this.props.trigger,\n          trigger = _this$props$trigger2 === undefined ? 'hover' : _this$props$trigger2;\n\n      if (trigger !== 'hover') {\n        return;\n      }\n      //因为react原生的onMouseEnter有bug，所以自己处理\n      var parent = e.relatedTarget; //上一响应mouseover/mouseout事件的元素\n      while (parent !== e.currentTarget && parent) {\n        //假如存在这个元素并且这个元素不等于目标元素（被赋予mouseenter事件的元素）\n        try {\n          parent = parent.parentNode || parent.parentElement;\n        } catch (e) {\n          //上一响应的元素开始往上寻找目标元素\n          break;\n        }\n      }\n      if (parent !== e.currentTarget) {\n        _this.setState({\n          show: true\n        });\n      }\n    }, _this.onMouseLeave = function (e) {\n      var childProps = _this.getChildProps();\n      childProps.onMouseLeave && childProps.onMouseLeave(e);\n      var _this$props$trigger3 = _this.props.trigger,\n          trigger = _this$props$trigger3 === undefined ? 'hover' : _this$props$trigger3;\n\n      if (trigger !== 'hover') {\n        return;\n      }\n      _this.setState({\n        show: false\n      });\n    }, _this.percent = (0, _isNumber2.default)(_this.props.defaultPercent) ? _this.props.defaultPercent : null, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Tooltip, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.moveTargetDOM = _reactDom2.default.findDOMNode(this.refs.moveTarget);\n      //在高德地图中，react jsx绑定事件失效，这种绑定方式没问题。\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mousemove', this.onMouseMove));\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mouseover', this.onMouseOver));\n      this.eventLists.push((0, _addEventListener2.default)(this.moveTargetDOM, 'mouseleave', this.onMouseLeave));\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ((0, _isNumber2.default)(nextProps.percent)) {\n        this.percent = nextProps.percent;\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.documentClickEvent && this.documentClickEvent.remove();\n      this.eventLists.forEach(function (v) {\n        v.remove();\n      });\n    }\n  }, {\n    key: 'getTargetHeight',\n    value: function getTargetHeight() {\n      var moveTargetDOM = this.moveTargetDOM;\n      if (!moveTargetDOM) {\n        return 0;\n      }\n      return moveTargetDOM.clientHeight;\n    }\n  }, {\n    key: 'getTargetLength',\n    value: function getTargetLength() {\n      var moveTargetDOM = this.moveTargetDOM;\n      if (!moveTargetDOM) {\n        return 0;\n      }\n      return moveTargetDOM.clientWidth;\n    }\n  }, {\n    key: 'getTargetStart',\n    value: function getTargetStart() {\n      var moveTargetDOM = this.moveTargetDOM;\n      var rect = moveTargetDOM.getBoundingClientRect();\n      if (moveTargetDOM.offsetLeft > rect.left) {\n        //浏览器宽度不足，向左滚动，rect.left会是负数\n        return moveTargetDOM.offsetLeft;\n      }\n      return rect.left;\n    }\n  }, {\n    key: 'calcValueByPos',\n    value: function calcValueByPos(position) {\n      var pixelOffset = position - this.getTargetStart();\n      return pixelOffset;\n    }\n  }, {\n    key: 'getMousePosition',\n    value: function getMousePosition(e) {\n      return e.pageX;\n    }\n  }, {\n    key: 'getContainerStyle',\n    value: function getContainerStyle() {\n      var _props$toTargetGap = this.props.toTargetGap,\n          toTargetGap = _props$toTargetGap === undefined ? 0 : _props$toTargetGap;\n\n      if (!this.refs['tooltip-container']) {\n        return {};\n      }\n      var contentWidth = this.refs['tooltip-container'].clientWidth;\n      //const contentHeight = this.refs['tooltip-container'].clientHeight;\n      var targetWidth = this.getTargetLength();\n      var targetHeight = this.getTargetHeight();\n      var contentContainerStyle = {};\n      //const playerConainerRect = this.context.playerConainerDOM.getBoundingClientRect();\n      //const playerConainerWidth = playerConainerRect.width;\n      if ((0, _isNumber2.default)(this.percent) && targetWidth) {\n        var pixelOffset = this.percent * targetWidth;\n        if (pixelOffset + contentWidth / 2 > targetWidth) {\n          //位置不能超过tooltip的目标元素长度\n          contentContainerStyle.left = (targetWidth - contentWidth / 2) / targetWidth * 100 + '%';\n        } else if (pixelOffset <= contentWidth / 2) {\n          //位置不能小于tooltip的目标元素长度\n          contentContainerStyle.left = contentWidth / 2 / targetWidth * 100 + '%';\n        } else {\n          contentContainerStyle.left = this.percent * 100 + '%';\n        }\n        contentContainerStyle.transform = 'translate(-50%, 0%)';\n      } else {\n        contentContainerStyle.left = targetWidth / 2 + 'px';\n        contentContainerStyle.transform = 'translate(-50%, 0%)';\n      }\n      contentContainerStyle.paddingBottom = toTargetGap + 'px';\n      contentContainerStyle.bottom = targetHeight + 'px';\n      return contentContainerStyle;\n    }\n  }, {\n    key: 'renderTooltipContent',\n    value: function renderTooltipContent() {\n      var _props = this.props,\n          content = _props.content,\n          propsShow = _props.show,\n          className = _props.className;\n      var show = this.state.show;\n\n      if (propsShow) {\n        show = propsShow;\n      }\n      var contentContainerStyle = this.getContainerStyle();\n      var tooltipContainer = _react2.default.createElement(\n        'div',\n        {\n          key: 'content',\n          onClick: function onClick(e) {\n            e.stopPropagation();\n          },\n          ref: 'tooltip-container',\n          className: (0, _classnames2.default)('html5-player-tooltip-content-container', {\n            'html5-player-hide': !show,\n            'html5-player-show': show\n          }, className),\n          style: contentContainerStyle\n        },\n        content\n      );\n\n      return tooltipContainer;\n    }\n  }, {\n    key: 'getChildProps',\n    value: function getChildProps() {\n      var children = this.props.children;\n      //preact;\n\n      var childProps = (children[0] || children).attributes;\n      if (!childProps) {\n        childProps = (children[0] || children).props;\n      }\n      return childProps;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      return (0, _util.cloneElement)(children, {\n        onClick: this.onClick,\n        style: { position: 'relative' },\n        ref: 'moveTarget'\n      }, this.renderTooltipContent());\n    }\n  }]);\n  return Tooltip;\n}(_react2.default.Component), _class.propTypes = {\n  content: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.bool, _propTypes2.default.number, _propTypes2.default.element]),\n  //是否一直显示。\n  show: _propTypes2.default.bool,\n  //离目标的上下距离\n  toTargetGap: _propTypes2.default.number,\n  percent: _propTypes2.default.number,\n  defaultPercent: _propTypes2.default.number,\n  //触发行为，可选 hover/focus/click，默认hover\n  trigger: _propTypes2.default.string\n}, _temp2);\nexports.default = Tooltip;"]},"metadata":{},"sourceType":"script"}