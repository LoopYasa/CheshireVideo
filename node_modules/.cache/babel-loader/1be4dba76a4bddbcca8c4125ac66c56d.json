{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.namespace = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nexports.default = function () {\n  return {\n    namespace: namespace,\n    state: {\n      currentTime: 0,\n      elapse: '00:00',\n      duration: '00:00',\n      //原始video的duration，为了让其他地方使用，存一份\n      secondDuration: 0\n    },\n    reducers: {\n      timeReducer: _util.standardReducer,\n      clear: function clear(state, _ref) {\n        var payload = _ref.payload;\n        return this.state;\n      }\n    },\n    sagas: {\n      timeSaga: /*#__PURE__*/_regenerator2.default.mark(function timeSaga(_ref2, _ref3) {\n        var _ref2$payload = _ref2.payload,\n            currentTime = _ref2$payload.currentTime,\n            _ref2$payload$duratio = _ref2$payload.duration,\n            duration = _ref2$payload$duratio === undefined ? 0 : _ref2$payload$duratio;\n        var put = _ref3.put;\n        var elapse, timeDuration;\n        return _regenerator2.default.wrap(function timeSaga$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //currentTime和duration会有误差，最大的currentTime基本都比duration小，+0.25是为了减少time中的误差。\n                elapse = (0, _util.hms)(Math.min(currentTime + 0.25, duration));\n                timeDuration = (0, _util.hms)(duration);\n                _context.next = 4;\n                return put({\n                  type: 'timeReducer',\n                  payload: {\n                    elapse: elapse,\n                    duration: timeDuration,\n                    secondDuration: duration,\n                    currentTime: currentTime\n                  }\n                });\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, timeSaga, this);\n      })\n    }\n  };\n};\n\nvar _util = require('../utils/util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar namespace = exports.namespace = 'time';","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/node_modules/html5-player/libs/model/time.js"],"names":["Object","defineProperty","exports","value","namespace","undefined","_regenerator","require","_regenerator2","_interopRequireDefault","default","state","currentTime","elapse","duration","secondDuration","reducers","timeReducer","_util","standardReducer","clear","_ref","payload","sagas","timeSaga","mark","_ref2","_ref3","_ref2$payload","_ref2$payload$duratio","put","timeDuration","wrap","timeSaga$","_context","prev","next","hms","Math","min","type","stop","obj","__esModule"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,SAAR,GAAoBC,SAApB;;AAEA,IAAIC,YAAY,GAAGC,OAAO,CAAC,2BAAD,CAA1B;;AAEA,IAAIC,aAAa,GAAGC,sBAAsB,CAACH,YAAD,CAA1C;;AAEAJ,OAAO,CAACQ,OAAR,GAAkB,YAAY;AAC5B,SAAO;AACLN,IAAAA,SAAS,EAAEA,SADN;AAELO,IAAAA,KAAK,EAAE;AACLC,MAAAA,WAAW,EAAE,CADR;AAELC,MAAAA,MAAM,EAAE,OAFH;AAGLC,MAAAA,QAAQ,EAAE,OAHL;AAIL;AACAC,MAAAA,cAAc,EAAE;AALX,KAFF;AASLC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,WAAW,EAAEC,KAAK,CAACC,eADX;AAERC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAeT,KAAf,EAAsBU,IAAtB,EAA4B;AACjC,YAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;AAEA,eAAO,KAAKX,KAAZ;AACD;AANO,KATL;AAiBLY,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,aAAahB,aAAa,CAACE,OAAd,CAAsBe,IAAtB,CAA2B,SAASD,QAAT,CAAkBE,KAAlB,EAAyBC,KAAzB,EAAgC;AAChF,YAAIC,aAAa,GAAGF,KAAK,CAACJ,OAA1B;AAAA,YACIV,WAAW,GAAGgB,aAAa,CAAChB,WADhC;AAAA,YAEIiB,qBAAqB,GAAGD,aAAa,CAACd,QAF1C;AAAA,YAGIA,QAAQ,GAAGe,qBAAqB,KAAKxB,SAA1B,GAAsC,CAAtC,GAA0CwB,qBAHzD;AAIA,YAAIC,GAAG,GAAGH,KAAK,CAACG,GAAhB;AACA,YAAIjB,MAAJ,EAAYkB,YAAZ;AACA,eAAOvB,aAAa,CAACE,OAAd,CAAsBsB,IAAtB,CAA2B,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;AAC7D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACE;AACAvB,gBAAAA,MAAM,GAAG,CAAC,GAAGK,KAAK,CAACmB,GAAV,EAAeC,IAAI,CAACC,GAAL,CAAS3B,WAAW,GAAG,IAAvB,EAA6BE,QAA7B,CAAf,CAAT;AACAiB,gBAAAA,YAAY,GAAG,CAAC,GAAGb,KAAK,CAACmB,GAAV,EAAevB,QAAf,CAAf;AACAoB,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAON,GAAG,CAAC;AACTU,kBAAAA,IAAI,EAAE,aADG;AAETlB,kBAAAA,OAAO,EAAE;AACPT,oBAAAA,MAAM,EAAEA,MADD;AAEPC,oBAAAA,QAAQ,EAAEiB,YAFH;AAGPhB,oBAAAA,cAAc,EAAED,QAHT;AAIPF,oBAAAA,WAAW,EAAEA;AAJN;AAFA,iBAAD,CAAV;;AAUF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOsB,QAAQ,CAACO,IAAT,EAAP;AAlBJ;AAoBD;AACF,SAvBM,EAuBJjB,QAvBI,EAuBM,IAvBN,CAAP;AAwBD,OA/BsB;AADlB;AAjBF,GAAP;AAoDD,CArDD;;AAuDA,IAAIN,KAAK,GAAGX,OAAO,CAAC,eAAD,CAAnB;;AAEA,SAASE,sBAAT,CAAgCiC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEhC,IAAAA,OAAO,EAAEgC;AAAX,GAArC;AAAwD;;AAE/F,IAAItC,SAAS,GAAGF,OAAO,CAACE,SAAR,GAAoB,MAApC","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.namespace = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nexports.default = function () {\n  return {\n    namespace: namespace,\n    state: {\n      currentTime: 0,\n      elapse: '00:00',\n      duration: '00:00',\n      //原始video的duration，为了让其他地方使用，存一份\n      secondDuration: 0\n    },\n    reducers: {\n      timeReducer: _util.standardReducer,\n      clear: function clear(state, _ref) {\n        var payload = _ref.payload;\n\n        return this.state;\n      }\n    },\n    sagas: {\n      timeSaga: /*#__PURE__*/_regenerator2.default.mark(function timeSaga(_ref2, _ref3) {\n        var _ref2$payload = _ref2.payload,\n            currentTime = _ref2$payload.currentTime,\n            _ref2$payload$duratio = _ref2$payload.duration,\n            duration = _ref2$payload$duratio === undefined ? 0 : _ref2$payload$duratio;\n        var put = _ref3.put;\n        var elapse, timeDuration;\n        return _regenerator2.default.wrap(function timeSaga$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //currentTime和duration会有误差，最大的currentTime基本都比duration小，+0.25是为了减少time中的误差。\n                elapse = (0, _util.hms)(Math.min(currentTime + 0.25, duration));\n                timeDuration = (0, _util.hms)(duration);\n                _context.next = 4;\n                return put({\n                  type: 'timeReducer',\n                  payload: {\n                    elapse: elapse,\n                    duration: timeDuration,\n                    secondDuration: duration,\n                    currentTime: currentTime\n                  }\n                });\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, timeSaga, this);\n      })\n    }\n  };\n};\n\nvar _util = require('../utils/util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar namespace = exports.namespace = 'time';"]},"metadata":{},"sourceType":"script"}