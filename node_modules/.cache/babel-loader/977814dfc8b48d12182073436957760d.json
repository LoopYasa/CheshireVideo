{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2; //外部依赖包\n// import classnames from 'classnames';\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _addEventListener = require('../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _contains = require('../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _util = require('../../utils/util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar ContextMenu = (_temp2 = _class = function (_React$Component) {\n  (0, _inherits3.default)(ContextMenu, _React$Component);\n\n  function ContextMenu() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, ContextMenu);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ContextMenu.__proto__ || (0, _getPrototypeOf2.default)(ContextMenu)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'ContextMenu', _this.state = {\n      showMenu: false\n    }, _this.onContextMenu = function (e) {\n      e.preventDefault(); //overflow 是否不能超出容器的边界\n\n      var _this$props$overflow = _this.props.overflow,\n          overflow = _this$props$overflow === undefined ? true : _this$props$overflow;\n\n      var containerTarget = _reactDom2.default.findDOMNode(_this.refs.containerTarget);\n\n      var menuDOM = _reactDom2.default.findDOMNode(_this.refs.menu);\n\n      var body = containerTarget.ownerDocument.body;\n      var containerTargetRect = containerTarget.getBoundingClientRect();\n      var menuDOMRect = menuDOM.getBoundingClientRect();\n      var left = parseInt('' + (e.pageX - containerTargetRect.left), 10);\n      var top = parseInt('' + (e.pageY - containerTargetRect.top), 10); // console.log(body.clientWidth, left, e.pageX);\n\n      if (!overflow) {\n        //overflow 是否不能超出容器的边界\n        if (left > containerTargetRect.width - menuDOMRect.width) {\n          //超过container右边\n          left = containerTargetRect.width - menuDOMRect.width;\n        }\n\n        if (top > containerTargetRect.height - menuDOMRect.height) {\n          //超过container右边\n          top = containerTargetRect.height - menuDOMRect.height;\n        }\n      } else {\n        if (e.pageX > body.clientWidth - menuDOMRect.width) {\n          //超过浏览器右边\n          left = body.clientWidth - menuDOMRect.width - containerTargetRect.left;\n        }\n\n        if (e.pageY > body.clientHeight - menuDOMRect.height) {\n          //超过浏览器底部\n          top = body.clientHeight - menuDOMRect.height - containerTargetRect.top;\n        }\n      }\n\n      _this.setState({\n        showMenu: true,\n        left: left + 'px',\n        top: top + 'px'\n      });\n\n      _this.documentMousedownEvent && _this.documentMousedownEvent.remove();\n      _this.documentMousedownEvent = (0, _addEventListener2.default)(containerTarget.ownerDocument, 'mousedown', function (e) {\n        if (!(0, _contains2.default)(menuDOM, e.target)) {\n          _this.documentMousedownEvent.remove();\n\n          _this.setState({\n            showMenu: false\n          });\n        }\n      });\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(ContextMenu, [{\n    key: 'renderContextmenu',\n    value: function renderContextmenu() {\n      var content = this.props.content;\n      var _state = this.state,\n          showMenu = _state.showMenu,\n          left = _state.left,\n          top = _state.top;\n      return (0, _util.cloneElement)(content, {\n        key: 'menu',\n        ref: 'menu',\n        style: {\n          visibility: showMenu ? 'visible' : 'hidden',\n          color: 'red',\n          position: 'absolute',\n          whiteSpace: 'nowrap',\n          zIndex: 100000,\n          left: left,\n          top: top\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      return (0, _util.cloneElement)(children, {\n        ref: 'containerTarget',\n        onContextMenu: this.onContextMenu\n      }, this.renderContextmenu());\n    }\n  }]);\n  return ContextMenu;\n}(_react2.default.Component), _class.propTypes = {\n  content: _propTypes2.default.element,\n  //overflow 是否不能超出容器的边界，默认可以超出\n  overflow: _propTypes2.default.bool\n}, _temp2);\nexports.default = ContextMenu;","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/node_modules/html5-player/libs/view/components/contextmenu.js"],"names":["Object","defineProperty","exports","value","default","undefined","_getPrototypeOf","require","_getPrototypeOf2","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_class","_temp2","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","_addEventListener","_addEventListener2","_contains","_contains2","_util","obj","__esModule","ContextMenu","_React$Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","displayName","state","showMenu","onContextMenu","e","preventDefault","_this$props$overflow","props","overflow","containerTarget","findDOMNode","refs","menuDOM","menu","body","ownerDocument","containerTargetRect","getBoundingClientRect","menuDOMRect","left","parseInt","pageX","top","pageY","width","height","clientWidth","clientHeight","setState","documentMousedownEvent","remove","target","key","renderContextmenu","content","_state","cloneElement","ref","style","visibility","color","position","whiteSpace","zIndex","render","children","Component","propTypes","element","bool"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2; //外部依赖包\n\n// import classnames from 'classnames';\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _addEventListener = require('../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _contains = require('../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _util = require('../../utils/util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ContextMenu = (_temp2 = _class = function (_React$Component) {\n  (0, _inherits3.default)(ContextMenu, _React$Component);\n\n  function ContextMenu() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, ContextMenu);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ContextMenu.__proto__ || (0, _getPrototypeOf2.default)(ContextMenu)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'ContextMenu', _this.state = { showMenu: false }, _this.onContextMenu = function (e) {\n      e.preventDefault();\n      //overflow 是否不能超出容器的边界\n      var _this$props$overflow = _this.props.overflow,\n          overflow = _this$props$overflow === undefined ? true : _this$props$overflow;\n\n      var containerTarget = _reactDom2.default.findDOMNode(_this.refs.containerTarget);\n      var menuDOM = _reactDom2.default.findDOMNode(_this.refs.menu);\n      var body = containerTarget.ownerDocument.body;\n      var containerTargetRect = containerTarget.getBoundingClientRect();\n      var menuDOMRect = menuDOM.getBoundingClientRect();\n      var left = parseInt('' + (e.pageX - containerTargetRect.left), 10);\n      var top = parseInt('' + (e.pageY - containerTargetRect.top), 10);\n      // console.log(body.clientWidth, left, e.pageX);\n      if (!overflow) {\n        //overflow 是否不能超出容器的边界\n        if (left > containerTargetRect.width - menuDOMRect.width) {\n          //超过container右边\n          left = containerTargetRect.width - menuDOMRect.width;\n        }\n        if (top > containerTargetRect.height - menuDOMRect.height) {\n          //超过container右边\n          top = containerTargetRect.height - menuDOMRect.height;\n        }\n      } else {\n        if (e.pageX > body.clientWidth - menuDOMRect.width) {\n          //超过浏览器右边\n          left = body.clientWidth - menuDOMRect.width - containerTargetRect.left;\n        }\n        if (e.pageY > body.clientHeight - menuDOMRect.height) {\n          //超过浏览器底部\n          top = body.clientHeight - menuDOMRect.height - containerTargetRect.top;\n        }\n      }\n      _this.setState({\n        showMenu: true,\n        left: left + 'px',\n        top: top + 'px'\n      });\n      _this.documentMousedownEvent && _this.documentMousedownEvent.remove();\n      _this.documentMousedownEvent = (0, _addEventListener2.default)(containerTarget.ownerDocument, 'mousedown', function (e) {\n        if (!(0, _contains2.default)(menuDOM, e.target)) {\n          _this.documentMousedownEvent.remove();\n          _this.setState({\n            showMenu: false\n          });\n        }\n      });\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(ContextMenu, [{\n    key: 'renderContextmenu',\n    value: function renderContextmenu() {\n      var content = this.props.content;\n      var _state = this.state,\n          showMenu = _state.showMenu,\n          left = _state.left,\n          top = _state.top;\n\n      return (0, _util.cloneElement)(content, {\n        key: 'menu',\n        ref: 'menu',\n        style: {\n          visibility: showMenu ? 'visible' : 'hidden',\n          color: 'red',\n          position: 'absolute',\n          whiteSpace: 'nowrap',\n          zIndex: 100000,\n          left: left,\n          top: top\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      return (0, _util.cloneElement)(children, {\n        ref: 'containerTarget',\n        onContextMenu: this.onContextMenu\n      }, this.renderContextmenu());\n    }\n  }]);\n  return ContextMenu;\n}(_react2.default.Component), _class.propTypes = {\n  content: _propTypes2.default.element,\n  //overflow 是否不能超出容器的边界，默认可以超出\n  overflow: _propTypes2.default.bool\n}, _temp2);\nexports.default = ContextMenu;"]},"metadata":{},"sourceType":"script"}