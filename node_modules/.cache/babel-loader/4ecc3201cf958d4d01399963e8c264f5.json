{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _dec2, _class, _class2, _temp2; //外部依赖包\n//import classnames from 'classnames';\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _clear = require('../../decorator/clear');\n\nvar _clear2 = _interopRequireDefault(_clear);\n\nvar _addEventListener = require('../../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _tooltip = require('../../components/tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _playbackRateList = require('./playback-rate-list');\n\nvar _playbackRateList2 = _interopRequireDefault(_playbackRateList);\n\nvar _subtitleList = require('./subtitle-list');\n\nvar _subtitleList2 = _interopRequireDefault(_subtitleList);\n\nvar _pictureQualityList = require('./picture-quality-list');\n\nvar _pictureQualityList2 = _interopRequireDefault(_pictureQualityList);\n\nvar _playbackRate = require('../../../model/playback-rate');\n\nvar _track = require('../../../model/track');\n\nvar _pictureQuality = require('../../../model/picture-quality');\n\nvar _contains = require('../../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar state = {\n  showSetting: false,\n  showRateSelect: false,\n  showSubtileSelect: false,\n  showPictureQualitySelect: false\n};\nvar Setting = (_dec = (0, _reactRedux.connect)(function (state) {\n  return {\n    playbackRate: state[_playbackRate.namespace],\n    subtitleList: state[_track.namespace].subtitleList,\n    subtitleId: state[_track.namespace].subtitleId,\n    qualityList: state[_pictureQuality.namespace].list,\n    currentQuality: state[_pictureQuality.namespace].currentQuality\n  };\n}), _dec2 = (0, _clear2.default)([_playbackRate.namespace]), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$Component) {\n  (0, _inherits3.default)(Setting, _React$Component);\n\n  function Setting() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Setting);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Setting.__proto__ || (0, _getPrototypeOf2.default)(Setting)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'Setting', _this.state = {\n      showSetting: true\n    }, _this.dispatch = _this.props.dispatch, _this.onListClickEvent = function (type) {\n      return function (e) {\n        switch (type) {\n          case 'rate':\n            _this.setState((0, _extends3.default)({}, state, {\n              showRateSelect: true\n            }));\n\n            break;\n\n          case 'subtile':\n            _this.setState((0, _extends3.default)({}, state, {\n              showSubtileSelect: true\n            }));\n\n            break;\n\n          case 'picture-quality':\n            _this.setState((0, _extends3.default)({}, state, {\n              showPictureQualitySelect: true\n            }));\n\n            break;\n\n          default:\n        }\n\n        var settingDOM = _reactDom2.default.findDOMNode(_this.refs.setting);\n\n        _this.documentClickEvent = (0, _addEventListener2.default)(settingDOM.ownerDocument, 'mousedown', function (e) {\n          if (!(0, _contains2.default)(settingDOM, e.target)) {\n            _this.documentClickEvent.remove();\n\n            _this.setState((0, _extends3.default)({}, state, {\n              showSetting: true\n            }));\n          }\n        });\n      };\n    }, _this.onSelect = function (rate, e) {\n      _this.documentClickEvent.remove();\n\n      _this.setState((0, _extends3.default)({}, state, {\n        showSetting: true\n      }));\n    }, _this.onBackEvent = function (e) {\n      _this.setState((0, _extends3.default)({}, state, {\n        showSetting: true\n      }));\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Setting, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {}\n  }, {\n    key: 'getLocale',\n    value: function getLocale() {\n      return this.context.localization;\n    }\n  }, {\n    key: 'renderContent',\n    value: function renderContent() {\n      var _props = this.props,\n          playbackRate = _props.playbackRate,\n          subtitleList = _props.subtitleList,\n          subtitleId = _props.subtitleId,\n          qualityList = _props.qualityList,\n          currentQuality = _props.currentQuality;\n      var _state = this.state,\n          showRateSelect = _state.showRateSelect,\n          showSubtileSelect = _state.showSubtileSelect,\n          showSetting = _state.showSetting,\n          showPictureQualitySelect = _state.showPictureQualitySelect;\n      var locale = this.getLocale();\n\n      var commonIcon = _react2.default.createElement('svg', {\n        className: 'html5-player-icon html5-player-right-icon',\n        'aria-hidden': 'true'\n      }, _react2.default.createElement('use', {\n        xlinkHref: '#icon-right'\n      }));\n\n      return _react2.default.createElement('div', {\n        className: 'html5-player-setting-container'\n      }, showSetting && _react2.default.createElement('ul', {\n        className: 'html5-player-setting-list'\n      }, _react2.default.createElement('li', {\n        onClick: this.onListClickEvent('rate')\n      }, _react2.default.createElement('span', {\n        className: 'float-right'\n      }, _react2.default.createElement('span', null, playbackRate + locale.speed), commonIcon), _react2.default.createElement('span', {\n        className: 'float-left'\n      }, locale.speed)), subtitleList && subtitleList[0] && _react2.default.createElement('li', {\n        onClick: this.onListClickEvent('subtile')\n      }, _react2.default.createElement('span', {\n        className: 'float-right'\n      }, subtitleId !== -1 && _react2.default.createElement('span', null, subtitleList[subtitleId].name), subtitleId === -1 && _react2.default.createElement('span', null, locale.subtitleOff), commonIcon), _react2.default.createElement('span', {\n        className: 'float-left'\n      }, locale.subtitle)), qualityList && qualityList[0] && _react2.default.createElement('li', {\n        onClick: this.onListClickEvent('picture-quality')\n      }, _react2.default.createElement('span', {\n        className: 'float-right'\n      }, currentQuality !== -1 && _react2.default.createElement('span', null, qualityList[currentQuality].label), currentQuality === -1 && _react2.default.createElement('span', null, locale.autoQuality), commonIcon), _react2.default.createElement('span', {\n        className: 'float-left'\n      }, locale.pictureQuality))), showRateSelect && _react2.default.createElement(_playbackRateList2.default, (0, _extends3.default)({}, this.props, {\n        onSelect: this.onSelect,\n        onBackEvent: this.onBackEvent\n      })), showSubtileSelect && _react2.default.createElement(_subtitleList2.default, {\n        onSelect: this.onSelect,\n        onBackEvent: this.onBackEvent\n      }), showPictureQualitySelect && _react2.default.createElement(_pictureQualityList2.default, {\n        onSelect: this.onSelect,\n        onBackEvent: this.onBackEvent\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var living = this.props.living;\n      return _react2.default.createElement(_tooltip2.default, {\n        ref: 'setting',\n        trigger: 'click',\n        content: this.renderContent(),\n        toTargetGap: living ? 5 : 13\n      }, _react2.default.createElement('button', {\n        type: 'button',\n        className: 'float-right html5-player-small-button html5-player-setting-button'\n      }, _react2.default.createElement('svg', {\n        className: 'html5-player-icon html5-player-setting-icon',\n        'aria-hidden': 'true'\n      }, _react2.default.createElement('use', {\n        xlinkHref: '#icon-setting'\n      }))));\n    }\n  }]);\n  return Setting;\n}(_react2.default.Component), _class2.contextTypes = {\n  localization: _propTypes2.default.object\n}, _temp2)) || _class) || _class);\nexports.default = Setting;","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/node_modules/html5-player/libs/view/controlbar/setting/index.js"],"names":["Object","defineProperty","exports","value","default","undefined","_extends2","require","_extends3","_interopRequireDefault","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_dec","_dec2","_class","_class2","_temp2","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","_reactRedux","_clear","_clear2","_addEventListener","_addEventListener2","_tooltip","_tooltip2","_playbackRateList","_playbackRateList2","_subtitleList","_subtitleList2","_pictureQualityList","_pictureQualityList2","_playbackRate","_track","_pictureQuality","_contains","_contains2","obj","__esModule","state","showSetting","showRateSelect","showSubtileSelect","showPictureQualitySelect","Setting","connect","playbackRate","namespace","subtitleList","subtitleId","qualityList","list","currentQuality","_React$Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","displayName","dispatch","props","onListClickEvent","type","e","setState","settingDOM","findDOMNode","refs","setting","documentClickEvent","ownerDocument","target","remove","onSelect","rate","onBackEvent","key","componentDidMount","getLocale","context","localization","renderContent","_props","_state","locale","commonIcon","createElement","className","xlinkHref","onClick","speed","name","subtitleOff","subtitle","label","autoQuality","pictureQuality","render","living","ref","trigger","content","toTargetGap","Component","contextTypes","object"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _dec2, _class, _class2, _temp2; //外部依赖包\n\n//import classnames from 'classnames';\n//内部依赖包\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _clear = require('../../decorator/clear');\n\nvar _clear2 = _interopRequireDefault(_clear);\n\nvar _addEventListener = require('../../../utils/dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _tooltip = require('../../components/tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _playbackRateList = require('./playback-rate-list');\n\nvar _playbackRateList2 = _interopRequireDefault(_playbackRateList);\n\nvar _subtitleList = require('./subtitle-list');\n\nvar _subtitleList2 = _interopRequireDefault(_subtitleList);\n\nvar _pictureQualityList = require('./picture-quality-list');\n\nvar _pictureQualityList2 = _interopRequireDefault(_pictureQualityList);\n\nvar _playbackRate = require('../../../model/playback-rate');\n\nvar _track = require('../../../model/track');\n\nvar _pictureQuality = require('../../../model/picture-quality');\n\nvar _contains = require('../../../utils/dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar state = {\n  showSetting: false,\n  showRateSelect: false,\n  showSubtileSelect: false,\n  showPictureQualitySelect: false\n};\n\nvar Setting = (_dec = (0, _reactRedux.connect)(function (state) {\n  return {\n    playbackRate: state[_playbackRate.namespace],\n    subtitleList: state[_track.namespace].subtitleList,\n    subtitleId: state[_track.namespace].subtitleId,\n    qualityList: state[_pictureQuality.namespace].list,\n    currentQuality: state[_pictureQuality.namespace].currentQuality\n  };\n}), _dec2 = (0, _clear2.default)([_playbackRate.namespace]), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$Component) {\n  (0, _inherits3.default)(Setting, _React$Component);\n\n  function Setting() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Setting);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Setting.__proto__ || (0, _getPrototypeOf2.default)(Setting)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'Setting', _this.state = { showSetting: true }, _this.dispatch = _this.props.dispatch, _this.onListClickEvent = function (type) {\n      return function (e) {\n        switch (type) {\n          case 'rate':\n            _this.setState((0, _extends3.default)({}, state, {\n              showRateSelect: true\n            }));\n            break;\n          case 'subtile':\n            _this.setState((0, _extends3.default)({}, state, {\n              showSubtileSelect: true\n            }));\n            break;\n          case 'picture-quality':\n            _this.setState((0, _extends3.default)({}, state, {\n              showPictureQualitySelect: true\n            }));\n            break;\n          default:\n        }\n        var settingDOM = _reactDom2.default.findDOMNode(_this.refs.setting);\n        _this.documentClickEvent = (0, _addEventListener2.default)(settingDOM.ownerDocument, 'mousedown', function (e) {\n          if (!(0, _contains2.default)(settingDOM, e.target)) {\n            _this.documentClickEvent.remove();\n            _this.setState((0, _extends3.default)({}, state, {\n              showSetting: true\n            }));\n          }\n        });\n      };\n    }, _this.onSelect = function (rate, e) {\n      _this.documentClickEvent.remove();\n      _this.setState((0, _extends3.default)({}, state, {\n        showSetting: true\n      }));\n    }, _this.onBackEvent = function (e) {\n      _this.setState((0, _extends3.default)({}, state, {\n        showSetting: true\n      }));\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Setting, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {}\n  }, {\n    key: 'getLocale',\n    value: function getLocale() {\n      return this.context.localization;\n    }\n  }, {\n    key: 'renderContent',\n    value: function renderContent() {\n      var _props = this.props,\n          playbackRate = _props.playbackRate,\n          subtitleList = _props.subtitleList,\n          subtitleId = _props.subtitleId,\n          qualityList = _props.qualityList,\n          currentQuality = _props.currentQuality;\n      var _state = this.state,\n          showRateSelect = _state.showRateSelect,\n          showSubtileSelect = _state.showSubtileSelect,\n          showSetting = _state.showSetting,\n          showPictureQualitySelect = _state.showPictureQualitySelect;\n\n      var locale = this.getLocale();\n      var commonIcon = _react2.default.createElement(\n        'svg',\n        {\n          className: 'html5-player-icon html5-player-right-icon',\n          'aria-hidden': 'true'\n        },\n        _react2.default.createElement('use', { xlinkHref: '#icon-right' })\n      );\n      return _react2.default.createElement(\n        'div',\n        { className: 'html5-player-setting-container' },\n        showSetting && _react2.default.createElement(\n          'ul',\n          { className: 'html5-player-setting-list' },\n          _react2.default.createElement(\n            'li',\n            { onClick: this.onListClickEvent('rate') },\n            _react2.default.createElement(\n              'span',\n              { className: 'float-right' },\n              _react2.default.createElement(\n                'span',\n                null,\n                playbackRate + locale.speed\n              ),\n              commonIcon\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'float-left' },\n              locale.speed\n            )\n          ),\n          subtitleList && subtitleList[0] && _react2.default.createElement(\n            'li',\n            { onClick: this.onListClickEvent('subtile') },\n            _react2.default.createElement(\n              'span',\n              { className: 'float-right' },\n              subtitleId !== -1 && _react2.default.createElement(\n                'span',\n                null,\n                subtitleList[subtitleId].name\n              ),\n              subtitleId === -1 && _react2.default.createElement(\n                'span',\n                null,\n                locale.subtitleOff\n              ),\n              commonIcon\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'float-left' },\n              locale.subtitle\n            )\n          ),\n          qualityList && qualityList[0] && _react2.default.createElement(\n            'li',\n            { onClick: this.onListClickEvent('picture-quality') },\n            _react2.default.createElement(\n              'span',\n              { className: 'float-right' },\n              currentQuality !== -1 && _react2.default.createElement(\n                'span',\n                null,\n                qualityList[currentQuality].label\n              ),\n              currentQuality === -1 && _react2.default.createElement(\n                'span',\n                null,\n                locale.autoQuality\n              ),\n              commonIcon\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'float-left' },\n              locale.pictureQuality\n            )\n          )\n        ),\n        showRateSelect && _react2.default.createElement(_playbackRateList2.default, (0, _extends3.default)({}, this.props, {\n          onSelect: this.onSelect,\n          onBackEvent: this.onBackEvent\n        })),\n        showSubtileSelect && _react2.default.createElement(_subtitleList2.default, {\n          onSelect: this.onSelect,\n          onBackEvent: this.onBackEvent\n        }),\n        showPictureQualitySelect && _react2.default.createElement(_pictureQualityList2.default, {\n          onSelect: this.onSelect,\n          onBackEvent: this.onBackEvent\n        })\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var living = this.props.living;\n\n      return _react2.default.createElement(\n        _tooltip2.default,\n        {\n          ref: 'setting',\n          trigger: 'click',\n          content: this.renderContent(),\n          toTargetGap: living ? 5 : 13\n        },\n        _react2.default.createElement(\n          'button',\n          {\n            type: 'button',\n            className: 'float-right html5-player-small-button html5-player-setting-button'\n          },\n          _react2.default.createElement(\n            'svg',\n            {\n              className: 'html5-player-icon html5-player-setting-icon',\n              'aria-hidden': 'true'\n            },\n            _react2.default.createElement('use', { xlinkHref: '#icon-setting' })\n          )\n        )\n      );\n    }\n  }]);\n  return Setting;\n}(_react2.default.Component), _class2.contextTypes = {\n  localization: _propTypes2.default.object\n}, _temp2)) || _class) || _class);\nexports.default = Setting;"]},"metadata":{},"sourceType":"script"}