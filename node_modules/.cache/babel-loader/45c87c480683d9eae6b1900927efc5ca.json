{"ast":null,"code":"import { TimelineLite } from \"gsap\";\nlet search = document.querySelector(\".search\");\nlet searchInp = search.children[0];\nlet searchLbl = search.children[1];\nlet searchBtn = search.children[2];\nlet searchBrd = search.children[3];\nlet searchBn = search.children[4];\nlet searchCls = search.children[5];\nlet searchTxt,\n    clonedTxt,\n    clonedLbl,\n    clonedLblWrap,\n    animating = false,\n    busy = true;\nlet TLTxt = new TimelineLite();\nlet TLSrch = new TimelineLite({\n  onReverseComplete: () => {\n    TLTxt.clear();\n    animating = false;\n  }\n});\ncreateTxt(\"Enter a search query\", searchLbl, \"search-text\");\nsearchTxt = document.querySelectorAll(\".search-text\");\nsearchBtn.addEventListener(\"click\", () => {\n  if (!animating) animSearch();\n});\nsearchBrd.addEventListener(\"click\", () => {\n  if (!animating) animSearch();\n});\nsearchInp.addEventListener(\"focus\", () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.isActive() ? TLTxt.play() : TLTxt.restart().timeScale(1).staggerTo(searchTxt, 0.07, {\n    opacity: 0\n  }, 0.035);\n});\nsearchInp.addEventListener(\"blur\", () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.reverse().timeScale(1.3);\n});\nsearch.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  busy = true;\n  TLTxt.paused() ? TLTxt.clear() : TLTxt.play();\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  } else TLSrch.reverse();\n\n  searchInp.value = \"\";\n  searchInp.blur();\n});\nsearchCls.addEventListener(\"mousedown\", e => {\n  e.preventDefault();\n});\nsearchCls.addEventListener(\"click\", () => {\n  if (busy) return;\n  busy = true;\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  } else {\n    TLTxt.isActive() ? TLTxt.play() : TLTxt.progress() == 1 ? TLTxt.clear() : TLTxt.restart().timeScale(1).staggerTo(searchTxt, 0.07, {\n      opacity: 0\n    }, 0.035);\n    TLSrch.reverse();\n  }\n\n  searchInp.value = \"\";\n  searchInp.blur();\n});\n\nfunction createTxt(text, elLbl, textClass) {\n  let splitText = [];\n\n  for (let i = text.length; i--;) {\n    splitText.unshift(`<span class='${textClass}'>${text[i]}</span>`);\n  }\n\n  elLbl.innerHTML = splitText.join(\"\");\n}\n\nfunction createLblTxt(val) {\n  createTxt(val, clonedLbl, \"cloned-text\");\n  clonedTxt = document.querySelectorAll(\".cloned-text\");\n  animClonedTxt(Array.from(clonedTxt).reverse());\n}\n\nfunction animSearch() {\n  animating = true;\n  TLSrch.restart().to(searchBrd, 0.4, {\n    scaleX: 2,\n    x: -25,\n    y: -25,\n    ease: Sine.easeIn\n  }).to(searchBtn, 0.4, {\n    rotationX: 90,\n    ease: Sine.easeIn\n  }, \"-=.4\").to(searchBrd, 0.4, {\n    rotation: 180,\n    x: \"-=6\",\n    y: \"+=10\",\n    ease: Power2.easeInOut\n  }).set(searchBrd, {\n    transformOrigin: \"0\",\n    marginRight: \"-38px\"\n  }).to(searchBrd, 0.6, {\n    scaleX: 13,\n    ease: Power1.easeOut\n  }).set(search, {\n    className: \"+=edge\",\n    onComplete: showTxt\n  }).to(searchInp, 0.6, {\n    scaleX: 1,\n    ease: Sine.easeInOut\n  }, \"-=.3\").set(searchCls, {\n    className: \"+=visible\"\n  }).set(searchBn, {\n    className: \"+=visible\"\n  }).addPause();\n}\n\nfunction showTxt() {\n  let tl = new TimelineLite({\n    onStart: () => {\n      searchInp.disabled = true;\n    }\n  });\n  tl.staggerTo(searchTxt, 0.07, {\n    opacity: 1\n  }, 0.035);\n  setTimeout(() => {\n    searchInp.disabled = false;\n    busy = false;\n  }, 300);\n}\n\nfunction animClonedTxt(el) {\n  let scrollW = clonedLbl.scrollWidth;\n  let offsetW = scrollW - clonedLbl.offsetWidth;\n  let tl = new TimelineLite({\n    onComplete: () => {\n      clonedLblWrap.remove();\n    }\n  });\n  tl.staggerTo(el, 0.08, {\n    opacity: 0\n  }, 0.04);\n  let tlDur = tl.totalDuration();\n  let offsetTime = offsetW * tlDur / scrollW;\n\n  if (offsetW > 0) {\n    TweenLite.fromTo(clonedLbl, offsetTime, {\n      x: -offsetW\n    }, {\n      x: 0,\n      delay: 0.2,\n      ease: SlowMo.ease.config(0.1, 0.1, false)\n    });\n  }\n\n  setTimeout(() => {\n    TLSrch.reverse();\n  }, Math.max((tlDur - 0.35) * 1000, 0));\n}\n\nfunction cloneLbl() {\n  clonedLblWrap = document.createElement(\"div\");\n  clonedLblWrap.className = \"search-label\";\n  search.appendChild(clonedLblWrap);\n  clonedLbl = document.createElement(\"div\");\n  clonedLblWrap.appendChild(clonedLbl);\n}","map":{"version":3,"sources":["C:/Users/MaGent/Desktop/video/video/src/page/BiliBili/Search/search.js"],"names":["TimelineLite","search","document","querySelector","searchInp","children","searchLbl","searchBtn","searchBrd","searchBn","searchCls","searchTxt","clonedTxt","clonedLbl","clonedLblWrap","animating","busy","TLTxt","TLSrch","onReverseComplete","clear","createTxt","querySelectorAll","addEventListener","animSearch","value","trim","length","isActive","play","restart","timeScale","staggerTo","opacity","reverse","e","preventDefault","paused","val","disabled","cloneLbl","createLblTxt","blur","progress","text","elLbl","textClass","splitText","i","unshift","innerHTML","join","animClonedTxt","Array","from","to","scaleX","x","y","ease","Sine","easeIn","rotationX","rotation","Power2","easeInOut","set","transformOrigin","marginRight","Power1","easeOut","className","onComplete","showTxt","addPause","tl","onStart","setTimeout","el","scrollW","scrollWidth","offsetW","offsetWidth","remove","tlDur","totalDuration","offsetTime","TweenLite","fromTo","delay","SlowMo","config","Math","max","createElement","appendChild"],"mappings":"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","sourcesContent":["import { TimelineLite } from \"gsap\"\r\n\r\nlet search = document.querySelector(\".search\");\r\nlet searchInp = search.children[0];\r\nlet searchLbl = search.children[1];\r\nlet searchBtn = search.children[2];\r\nlet searchBrd = search.children[3];\r\nlet searchBn = search.children[4];\r\nlet searchCls = search.children[5];\r\nlet searchTxt,\r\n  clonedTxt,\r\n  clonedLbl,\r\n  clonedLblWrap,\r\n  animating = false,\r\n  busy = true;\r\nlet TLTxt = new TimelineLite();\r\nlet TLSrch = new TimelineLite({\r\n  onReverseComplete: () => {\r\n    TLTxt.clear();\r\n    animating = false;\r\n  }\r\n});\r\n\r\ncreateTxt(\"Enter a search query\", searchLbl, \"search-text\");\r\nsearchTxt = document.querySelectorAll(\".search-text\");\r\n\r\nsearchBtn.addEventListener(\"click\", () => {\r\n  if (!animating) animSearch();\r\n});\r\n\r\nsearchBrd.addEventListener(\"click\", () => {\r\n  if (!animating) animSearch();\r\n});\r\n\r\nsearchInp.addEventListener(\"focus\", () => {\r\n  if (busy || searchInp.value.trim().length) return;\r\n  TLTxt.isActive()\r\n    ? TLTxt.play()\r\n    : TLTxt.restart()\r\n        .timeScale(1)\r\n        .staggerTo(searchTxt, 0.07, { opacity: 0 }, 0.035);\r\n});\r\n\r\nsearchInp.addEventListener(\"blur\", () => {\r\n  if (busy || searchInp.value.trim().length) return;\r\n  TLTxt.reverse().timeScale(1.3);\r\n});\r\n\r\nsearch.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  busy = true;\r\n  TLTxt.paused() ? TLTxt.clear() : TLTxt.play();\r\n  let val = searchInp.value.trim();\r\n  searchInp.disabled = true;\r\n  if (val.length) {\r\n    cloneLbl();\r\n    createLblTxt(val);\r\n  } else TLSrch.reverse();\r\n  searchInp.value = \"\";\r\n  searchInp.blur();\r\n});\r\n\r\nsearchCls.addEventListener(\"mousedown\", (e) => {\r\n  e.preventDefault();\r\n});\r\n\r\nsearchCls.addEventListener(\"click\", () => {\r\n  if (busy) return;\r\n  busy = true;\r\n  let val = searchInp.value.trim();\r\n  searchInp.disabled = true;\r\n  if (val.length) {\r\n    cloneLbl();\r\n    createLblTxt(val);\r\n  } else {\r\n    TLTxt.isActive()\r\n      ? TLTxt.play()\r\n      : TLTxt.progress() == 1\r\n      ? TLTxt.clear()\r\n      : TLTxt.restart()\r\n          .timeScale(1)\r\n          .staggerTo(searchTxt, 0.07, { opacity: 0 }, 0.035);\r\n    TLSrch.reverse();\r\n  }\r\n  searchInp.value = \"\";\r\n  searchInp.blur();\r\n});\r\n\r\nfunction createTxt(text, elLbl, textClass) {\r\n  let splitText = [];\r\n  for (let i = text.length; i--; ) {\r\n    splitText.unshift(`<span class='${textClass}'>${text[i]}</span>`);\r\n  }\r\n  elLbl.innerHTML = splitText.join(\"\");\r\n}\r\n\r\nfunction createLblTxt(val) {\r\n  createTxt(val, clonedLbl, \"cloned-text\");\r\n  clonedTxt = document.querySelectorAll(\".cloned-text\");\r\n  animClonedTxt(Array.from(clonedTxt).reverse());\r\n}\r\n\r\nfunction animSearch() {\r\n  animating = true;\r\n  TLSrch.restart()\r\n    .to(searchBrd, 0.4, { scaleX: 2, x: -25, y: -25, ease: Sine.easeIn })\r\n    .to(searchBtn, 0.4, { rotationX: 90, ease: Sine.easeIn }, \"-=.4\")\r\n    .to(searchBrd, 0.4, {\r\n      rotation: 180,\r\n      x: \"-=6\",\r\n      y: \"+=10\",\r\n      ease: Power2.easeInOut\r\n    })\r\n    .set(searchBrd, { transformOrigin: \"0\", marginRight: \"-38px\" })\r\n    .to(searchBrd, 0.6, { scaleX: 13, ease: Power1.easeOut })\r\n    .set(search, { className: \"+=edge\", onComplete: showTxt })\r\n    .to(searchInp, 0.6, { scaleX: 1, ease: Sine.easeInOut }, \"-=.3\")\r\n    .set(searchCls, { className: \"+=visible\" })\r\n    .set(searchBn, { className: \"+=visible\" })\r\n    .addPause();\r\n}\r\n\r\nfunction showTxt() {\r\n  let tl = new TimelineLite({\r\n    onStart: () => {\r\n      searchInp.disabled = true;\r\n    }\r\n  });\r\n  tl.staggerTo(searchTxt, 0.07, { opacity: 1 }, 0.035);\r\n  setTimeout(() => {\r\n    searchInp.disabled = false;\r\n    busy = false;\r\n  }, 300);\r\n}\r\n\r\nfunction animClonedTxt(el) {\r\n  let scrollW = clonedLbl.scrollWidth;\r\n  let offsetW = scrollW - clonedLbl.offsetWidth;\r\n  let tl = new TimelineLite({\r\n    onComplete: () => {\r\n      clonedLblWrap.remove();\r\n    }\r\n  });\r\n  tl.staggerTo(el, 0.08, { opacity: 0 }, 0.04);\r\n  let tlDur = tl.totalDuration();\r\n  let offsetTime = (offsetW * tlDur) / scrollW;\r\n  if (offsetW > 0) {\r\n    TweenLite.fromTo(\r\n      clonedLbl,\r\n      offsetTime,\r\n      { x: -offsetW },\r\n      { x: 0, delay: 0.2, ease: SlowMo.ease.config(0.1, 0.1, false) }\r\n    );\r\n  }\r\n  setTimeout(() => {\r\n    TLSrch.reverse();\r\n  }, Math.max((tlDur - 0.35) * 1000, 0));\r\n}\r\n\r\nfunction cloneLbl() {\r\n  clonedLblWrap = document.createElement(\"div\");\r\n  clonedLblWrap.className = \"search-label\";\r\n  search.appendChild(clonedLblWrap);\r\n  clonedLbl = document.createElement(\"div\");\r\n  clonedLblWrap.appendChild(clonedLbl);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}